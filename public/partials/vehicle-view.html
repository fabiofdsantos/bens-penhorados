<div class="section">
    <div data-ng-show="vehicle" class="container">
        <h1 class="page-header" data-ng-bind="vehicle.generic.title"></h1>
        <div class="row" style="margin-bottom: 15px">
            <div class="col-md-6 show-grid">
                <div style="max-width: 100%">
                    <carousel interval="2000">
                        <slide data-ng-repeat="image in vehicle.generic.images">
                            <img data-ng-src="../images/{{ image }}" style="margin:auto;">
                        </slide>
                    </carousel>
                    <img data-ng-hide="vehicle.generic.images" data-ng-src="../images/empty.jpg" style="margin:auto; max-width: 100%">
                </div>
            </div>
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-12 text-center">
                        <div class="row">
                            <strong>Preço base de venda:</strong>
                        </div>
                        <div class="item-price row">
                            <span data-ng-bind="vehicle.generic.price.value ? (vehicle.generic.price.value  | currency:'€') : 'À melhor oferta'"></span>
                            <span data-ng-show="vehicle.generic.price.vat" data-ng-bind="' - Incl. ' + vehicle.generic.price.vat + '% (IVA)'"></span>
                        </div>
                    </div>
                </div>
                <div class="item-general-details well">
                    <div class="row">
                        <div class="col-sm-12 text-center">
                            <p class="small">
                                <strong>Estado da venda: </strong>
                                <span data-ng-bind="vehicle.generic.status" data-ng-style="vehicle.generic.status == 'Em curso' ? {'color':'green'} : {'color':'red'}"></span>
                            </p>
                            <p class="small">
                                <strong>Localização: </strong>
                                <span data-ng-bind="vehicle.generic.location"></span>
                            </p>
                            <p class="small">
                                <strong>Modalidade: </strong>
                                <span data-ng-bind="vehicle.generic.purchaseType"></span>
                            </p>
                            <p class="small">
                                <strong>Código da venda: </strong>
                                <span data-ng-bind="vehicle.generic.code"></span>
                            </p>
                            <p class="small">
                                <strong>Serviço de finanças: </strong>
                                <span data-ng-bind="vehicle.generic.taxOffice"></span>
                            </p>
                            <br />
                            <small data-ng-bind="'Apresentação de propostas até ' + vehicle.generic.dates.acceptanceDt"></small>
                            <br />
                            <small data-ng-bind="'Examinação do bem de ' + vehicle.generic.dates.previewDtStart"></small>
                            <small data-ng-bind="' até ' + vehicle.generic.dates.previewDtEnd"></small>
                            <br />
                            <small data-ng-bind="'Abertura de propostas em ' + vehicle.generic.dates.openingDt"></small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="item-buttons col-md-6 text-center">
                <div class="col-xs-12 col-sm-6">
                    <a class="btn btn-primary" target="_blank" data-ng-href="{{ (vehicle.generic.code | generateLink) }}" role="button"><i class="glyphicon glyphicon-new-window"></i> Ver anúncio original</a>
                </div>
                <div class="col-xs-12 col-sm-6">
                    <a data-ng-hide="isFavorite" data-ng-click="addFavorite()" class="btn btn-success" role="button"><i class="glyphicon glyphicon-pushpin"></i> Marcar como favorito</a>
                    <a data-ng-show="isFavorite" data-ng-click="removeFavorite()" class="btn btn-danger" role="button"><i class="glyphicon glyphicon-pushpin"></i> Desmarcar como favorito</a>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <table class="table table-condensed">
                    <thead>
                        <tr>
                            <th colspan="2">
                                <h4>Detalhes</h4>
                            </th>
                        </tr>
                    </thead>
                    <tbody style="font-size: 12px;">
                        <tr data-ng-show="vehicle.make">
                            <th scope="row">Marca</th>
                            <td data-ng-bind="vehicle.make"></td>
                        </tr>
                        <tr data-ng-show="vehicle.model">
                            <th scope="row">Modelo</th>
                            <td data-ng-bind="vehicle.model"></td>
                        </tr>
                        <tr data-ng-show="vehicle.year">
                            <th scope="row">Ano</th>
                            <td data-ng-bind="vehicle.year"></td>
                        </tr>
                        <tr data-ng-show="vehicle.engDispl">
                            <th scope="row">Cilindrada</th>
                            <td data-ng-bind="(vehicle.engDispl | number : 0) + ' cc'"></td>
                        </tr>
                        <tr data-ng-show="vehicle.fuel">
                            <th scope="row">Combustível</th>
                            <td data-ng-bind="vehicle.fuel"></td>
                        </tr>
                        <tr data-ng-show="vehicle.color">
                            <th scope="row">Cor</th>
                            <td data-ng-bind="vehicle.color"></td>
                        </tr>
                        <tr data-ng-show="vehicle.category">
                            <th scope="row">Categoria</th>
                            <td data-ng-bind="vehicle.category"></td>
                        </tr>
                        <tr data-ng-show="vehicle.type">
                            <th scope="row">Tipo</th>
                            <td data-ng-bind="vehicle.type"></td>
                        </tr>
                        <tr data-ng-show="vehicle.regPlateCode">
                            <th scope="row">Matrícula</th>
                            <td data-ng-bind="vehicle.regPlateCode"></td>
                        </tr>
                        <tr data-ng-show="vehicle.goodCondition != null">
                            <th scope="row">Estado</th>
                            <td data-ng-bind="vehicle.goodCondition | vehicleCondition"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-9">
                <table class="table table-condensed">
                    <thead>
                        <tr>
                            <th colspan="2">
                                <h4>Descrição do veículo</h4>
                            </th>
                        </tr>
                    </thead>
                    <tbody style="font-size: 12px;">
                        <tr data-ng-show="vehicle.generic.description">
                            <td data-ng-bind="vehicle.generic.description"></td>
                        </tr>
                    </tbody>
                </table>
                <div class="table-responsive" data-ng-show="vehicle.generic.depositary.phone || vehicle.generic.depositary.email || vehicle.generic.mediator.name || vehicle.generic.mediator.email">
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <th colspan="4">
                                    <h4>Contactos</h4>
                                </th>
                            </tr>
                        </thead>
                        <tbody style="font-size: 12px;">
                            <tr data-ng-show="vehicle.generic.depositary.name">
                                <th scope="row">Fiel depositário</th>
                                <td>
                                    <i class="glyphicon glyphicon-user"></i>
                                    <span data-ng-bind="vehicle.generic.depositary.name"></span>
                                </td>
                                <td>
                                    <i class="glyphicon glyphicon-phone"></i>
                                    <span data-ng-bind="(vehicle.generic.depositary.phone | phonenumber:351) || 'Telefone indisponível'"></span>
                                </td>
                                <td>
                                    <i class="glyphicon glyphicon-envelope"></i>
                                    <a ng-show="vehicle.generic.depositary.email" data-ng-href="{{ vehicle.generic.depositary.email }}" target="_blank">Enviar email</a>
                                    <span ng-hide="vehicle.generic.depositary.email">Email indisponível</span>
                                </td>
                            </tr>
                            <tr data-ng-show="vehicle.generic.mediator.name">
                                <th scope="row">Mediador</th>
                                <td>
                                    <i class="glyphicon glyphicon-user"></i>
                                    <span data-ng-bind="vehicle.generic.mediator.name"></span>
                                </td>
                                <td>
                                    <i class="glyphicon glyphicon-phone"></i>
                                    <span data-ng-bind="(vehicle.generic.mediator.phone | phonenumber:351) || 'Telefone indisponível'"></span>
                                </td>
                                <td>
                                    <i class="glyphicon glyphicon-envelope"></i>
                                    <a ng-show="vehicle.generic.mediator.email" data-ng-href="{{ vehicle.generic.mediator.email }}" target="_blank">Enviar email</a>
                                    <span ng-hide="vehicle.generic.mediator.email">Email indisponível</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
